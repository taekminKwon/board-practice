
# 📄 고급 학습용 게시판 시스템 RFP

## 📌 1. 프로젝트 개요

- **프로젝트명**: Advanced Board & User Activity Platform
- **목표**: 백엔드 개발자가 실무에 필요한 JPA, 쿼리 최적화, 트랜잭션 제어, 인증/인가 등을 학습할 수 있는 학습용 게시판 시스템 구현
- **핵심 역량**:
  - 다양한 쿼리 작성 및 성능 고려
  - 트랜잭션 흐름 설계 및 실습
  - 인증/인가 흐름 구축
  - 도메인 설계, 통계 기반 기능, 동시성 제어 경험

---

## 📂 2. 도메인 모델 구성

### 기본 도메인

- `User`: 회원
- `Board`: 게시판 공간 (예: 자유, 공지, 질문)
- `Post`: 게시글
- `Comment`: 댓글
- `Tag`: 게시글 분류용
- `PostTag`: 다대다 연결
- `Like`: 좋아요
- `Report`: 신고
- `ViewHistory`: 사용자별 조회 기록
- `PointHistory`: 포인트 지급/차감 기록

---

## ✅ 3. 핵심 기능 요구사항

### 🔐 인증 및 사용자

| 기능 | 설명 |
|------|------|
| 회원가입 / 로그인 / 로그아웃 | Spring Security + 세션 또는 JWT |
| 내 정보 보기/수정/탈퇴 | 본인만 접근 가능 |
| 인증 사용자만 글쓰기/댓글/좋아요/신고 가능 | `@AuthenticationPrincipal` 기반 |

---

### 📌 게시글 및 댓글 기능

| 기능 | 설명 |
|------|------|
| 게시글 CRUD | 본인만 수정/삭제 가능 |
| 댓글 CRUD | 게시글 당 다수의 댓글 작성 가능 |
| 게시글 조회 시 댓글 목록 포함 | 정렬 기준 선택 가능 |
| 게시판(Board) 구분 기능 | 자유/공지/질문 등의 게시판 분리 가능 |

---

### 📊 고급 조회 및 통계 기능

| 기능 | 설명 | 쿼리 포인트 |
|------|------|-------------|
| 인기 게시글 정렬 | 조회수/좋아요/댓글 수 기준 | JOIN + GROUP BY + ORDER BY |
| 댓글 없는 글 찾기 | LEFT JOIN + IS NULL |
| 태그 필터링 | 다대다 관계 처리 |
| 동적 검색 | 제목/내용/작성자/태그 조합 |
| 특정 기간 내 인기글 | 날짜 조건 + 집계 |
| 월별 게시글 통계 | GROUP BY + DATE_TRUNC |
| 활동 랭킹 | 사용자별 글 수, 좋아요 수 기반 |

---

### 💸 트랜잭션 실습 기능

| 기능 | 설명 | 학습 포인트 |
|------|------|--------------|
| 글 작성 시 포인트 10점 지급 | 실패 시 롤백되어야 함 | 단일 트랜잭션 처리 |
| 글 열람 시 포인트 차감 | 포인트 부족 시 열람 불가 | 트랜잭션 내 조건 분기 |
| 좋아요 중복 방지 | 동시 요청 시 중복 삽입 방지 | 동시성 처리 + Lock 실습 |
| 신고 누적 시 게시글 자동 숨김 | 신고 5회 이상 시 `isVisible=false` 처리 | 다중 Repository 조작 |
| 열람 기록 저장 | 하루 1회만 조회수 증가 | 존재 확인 후 삽입 or 무시 |

---

### 🛡️ 어드민 기능

| 기능 | 설명 |
|------|------|
| 신고된 게시글/댓글 목록 확인 | 신고 횟수 필터 |
| 정지 사용자 관리 | 강제 로그아웃 / 활동 차단 |
| 전체 통계 | 전체 글 수, 댓글 수, 월별 통계 등 |

---

## 🧠 4. 학습 포인트 정리

| 분야 | 학습 내용 |
|------|-----------|
| 🔧 JPA 연관관계 | 양방향 매핑, cascade, orphanRemoval |
| 📑 DTO/Entity 분리 | 응답 모델 분리, Jackson 순환 방지 |
| 🔍 쿼리 작성 | JPQL, Native, 동적 조건, 통계 집계 |
| 💥 트랜잭션 | rollback, 예외처리, 전파, 동시성 |
| 🔐 인증/인가 | 로그인, 권한 체크, `@PreAuthorize` |
| 📊 통계/랭킹 | GROUP BY, COUNT, 조건부 집계 |
| 🔄 전파 제어 | `REQUIRES_NEW` vs `REQUIRED` 체험 |
| 🔄 페이징/정렬 | Pageable, 커스텀 정렬 |

---

## 🛠 기술 스택 제안

| 영역 | 기술 |
|------|------|
| 백엔드 | Spring Boot, Spring Data JPA, Spring Security |
| 인증 | 세션 기반 또는 JWT |
| 데이터베이스 | H2 (개발), MySQL (운영) |
| 쿼리 | QueryDSL or `@Query` |
| 테스트 | Postman, Swagger UI |
| 선택 사항 | Redis (로그인 세션 관리), Spring REST Docs |

---

## 📆 5. 구현 순서 (MVP 기반)

| 단계 | 내용 |
|------|------|
| MVP 1 | 로그인/회원가입, 게시글/댓글 기본 CRUD |
| MVP 2 | 좋아요/조회수/통계 기반 기능 |
| MVP 3 | 포인트 지급·차감, 트랜잭션 처리 |
| MVP 4 | 어드민 기능, 사용자 제재, 전체 통계 |
# board-practice
# board-practice
